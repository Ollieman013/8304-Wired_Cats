package org.firstinspires.ftc.teamcode;

import com.qualcomm.robotcore.eventloop.opmode.LinearOpMode;
import com.qualcomm.robotcore.eventloop.opmode.TeleOp;
import com.qualcomm.robotcore.hardware.Servo;

@TeleOp(name = "Claw Toggle Test", group = "Test")
public class ClawToggle extends LinearOpMode {

    private Servo clawServo;
    private boolean clawOpen = false;
    private boolean lastLBState = false;
    private Servo Turn;

    @Override
    public void runOpMode() {
        clawServo = hardwareMap.get(Servo.class, "clawServo");
        Turn = hardwareMap.get(Servo.class, "Turn");

        // Initialize to closed position
        clawServo.setPosition(0.0);
        Turn.setPosition(0.0);

        telemetry.addData("Status", "Ready to run");
        telemetry.update();
        waitForStart();

        while (opModeIsActive()) {
            boolean currentLBState = gamepad1.left_bumper;

            if (currentLBState && !lastLBState) {
                clawOpen = !clawOpen;
                clawServo.setPosition(clawOpen ? 0 : 1);  // 0.5 ~ 90 degrees, 0.0 ~ 0 degrees
            }
            if(gamepad1.right_bumper) {
                Turn.setPosition(0.5);
            }
            if(gamepad1.right_bumper) {
                Turn.setPosition(0);
            }

            lastLBState = currentLBState;

            telemetry.addData("Claw State", clawOpen ? "Open (90°)" : "Closed (0°)");
            telemetry.addData("Servo Position", "%.2f", clawServo.getPosition());
            telemetry.update();

            sleep(10);
        }
    }
}





